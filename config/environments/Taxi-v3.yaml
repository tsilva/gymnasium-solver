# Taxi standard challenge configurations

# =====================
# Environment Specification
# =====================
spec: &spec
  source: https://gymnasium.farama.org/environments/toy_text/taxi/
  description: Navigate a taxi to pick up and drop off a passenger at a destination.

  action_space:
    discrete: 6
    labels: {0: south, 1: north, 2: east, 3: west, 4: pickup, 5: dropoff}

  observation_space:
    default: encoded_state
    variants:
      encoded_state: {n: 500, dtype: int64}

  rewards:
    per_step: -1
    successful_dropoff: +20
    illegal_action: -10
    range: [-10, 20]

  returns:
    episodic: cumulative over episode
    range: [-800, 20]
    threshold_solved: 8


# =====================
# env variants
# =====================

# Base env
_env: &env
  spec: *spec
  env_id: Taxi-v3
  accelerator: cpu
  env_wrappers:
    - id: DiscreteEncoder
      encoding: array

# =====================
# configs
# =====================

ppo:
  <<: *env
  project_id: Taxi-v3
  algo_id: ppo
  model_id: mlp_tiny
  description: "PPO on Taxi - standard configuration for taxi navigation task"
  max_env_steps: 10e6
  ent_coef: 0.01
  eval_freq_epochs: 10
  eval_episodes: 10
  n_steps: 1024
  n_epochs: 20
  policy_lr: 1e-2
